{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryRender/ImageGaleryRender.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/Container/container.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Container/Container.jsx","components/SearchBar/SearchBar.js","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGalary.jsx","components/Button/Button.jsx","services/pictureApi.js","components/ImageGalleryRender/ImageGalleryRender.jsx","components/App.js","index.js","components/SearchBar/searchBar.module.css"],"names":["module","exports","Container","children","className","styles","container","SearchBar","state","value","handleOnChangeInput","event","setState","currentTarget","handleOnSubmit","preventDefault","trim","toast","info","props","onSubmit","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","onChange","input","autoComplete","autoFocus","placeholder","Component","Modal","src","name","handleOnClickModal","id","onClick","overlay","modal","img","alt","ImageGalleryItem","picture","imageGalleryItem","webformatURL","data-large","largeImageURL","data-name","tags","imageGalleryItemImage","ptopTypes","PropTypes","object","func","ImageGalary","pictures","imageGallery","map","ButtonLoad","button","api","fetchPicturesApi","page","fetch","then","res","ok","json","Promise","reject","Error","counter","ImageGalleryRender","error","status","isModal","totalHits","spinner","handleLoadMore","picturesApi","pictureName","prevState","hits","catch","finally","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handleKeyDown","code","handleOnClick","dataset","large","target","addEventListener","removeEventListener","prevProps","length","loader","color","height","width","Button","message","App","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.90c3b214.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3GoLB\",\"modal\":\"modal_modal__3OAHy\",\"img\":\"modal_img__i7Vb5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"ImageGaleryRender_loader__3j1n4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__2at7i\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__1WH3l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__3TiUU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__Qono_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2pFT2\"};","import styles from \"../Container/container.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import styles from \"../SearchBar/searchBar.module.css\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass SearchBar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleOnChangeInput = (event) => {\n    this.setState({ value: event.currentTarget.value });\n  };\n\n  handleOnSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.value.trim() === \"\") {\n      return toast.info(\"Enter what you want to find\");\n    }\n    this.props.onSubmit(this.state.value);\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            onChange={this.handleOnChangeInput}\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import styles from \"./modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Modal({ src, name, handleOnClickModal }) {\n  return (\n    <div\n      id=\"modal-root\"\n      onClick={handleOnClickModal}\n      className={styles.overlay}\n    >\n      <div className={styles.modal}>\n        <img className={styles.img} src={src} alt={name} />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  handleOnClickModal: PropTypes.func,\n};\n\nexport default Modal;\n","import styles from \"./imageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ picture, onClick }) {\n  return (\n    <li className={styles.imageGalleryItem}>\n      <img\n        onClick={onClick}\n        src={picture.webformatURL}\n        data-large={picture.largeImageURL}\n        data-name={picture.tags}\n        alt={picture.tags}\n        className={styles.imageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.ptopTypes = {\n  picture: PropTypes.object,\n  onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import styles from \"./imageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalary({ pictures, onClick, children }) {\n  return (\n    <>\n      <ul className={styles.imageGallery}>\n        {\" \"}\n        {pictures.map((picture) => {\n          return (\n            <ImageGalleryItem\n              key={picture.webformatURL}\n              onClick={onClick}\n              picture={picture}\n            />\n          );\n        })}\n      </ul>\n      {children}\n    </>\n  );\n}\n\nImageGalary.propTypes = {\n  pictures: PropTypes.array,\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default ImageGalary;\n","import styles from \"./button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ButtonLoad({ name, onClick }) {\n  return (\n    <button onClick={onClick} className={styles.button} type=\"button\">\n      {name}\n    </button>\n  );\n}\n\nButtonLoad.propTypes = {\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default ButtonLoad;\n","const BASE_URL = \"https://pixabay.com/api\";\nconst KEY = \"19172745-dc53377293ec5b56fbdc242bd\";\nexport const PER_PAGE = 12;\n\nfunction fetchPicturesApi(name, page) {\n  return fetch(\n    `${BASE_URL}/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n  ).then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(\"Something go wrong, try again\"));\n  });\n}\n\nconst api = { fetchPicturesApi };\n\nexport default api;\n","import React, { Component } from \"react\";\nimport styles from \"./ImageGaleryRender.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"../Modal/Modal\";\nimport { toast } from \"react-toastify\";\nimport ImageGallery from \"../ImageGallery/ImageGalary\";\nimport ButtonLoad from \"../Button/Button\";\nimport picturesApi from \"../../services/pictureApi.js\";\nimport { PER_PAGE } from \"../../services/pictureApi\";\n\nlet counter = 1;\n\nclass ImageGalleryRender extends Component {\n  state = {\n    pictures: [],\n    error: null,\n    status: \"idle\",\n    isModal: false,\n    name: \"\",\n    src: \"\",\n    totalHits: null,\n    spinner: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.pictureName !== this.props.pictureName) {\n      this.setState({\n        status: \"pending\",\n      });\n\n      picturesApi\n        .fetchPicturesApi(this.props.pictureName, (counter = 1))\n        .then((res) => {\n          if (res.hits.length === 0) {\n            toast.info(\"We did not find any pictures\");\n          }\n          return this.setState({\n            pictures: res.hits,\n            status: \"resolve\",\n            totalHits: res.totalHits,\n          });\n        })\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\n    }\n  }\n\n  handleLoadMore = (event) => {\n    this.setState({ spinner: true });\n    picturesApi\n      .fetchPicturesApi(this.props.pictureName, (counter += 1))\n      .then((res) => {\n        return this.setState((prevState) => {\n          return {\n            pictures: [...prevState.pictures, ...res.hits],\n            spinner: false,\n          };\n        });\n      })\n      .catch((error) => this.setState({ error, status: \"rejected\" }))\n      .finally(() => {\n        this.scroll();\n      });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.setState({ isModal: false });\n    }\n  };\n\n  handleOnClick = (event) => {\n    this.setState({\n      isModal: true,\n      src: event.currentTarget.dataset.large,\n      name: event.currentTarget.dataset.name,\n    });\n  };\n\n  handleOnClickModal = (event) => {\n    if (event.currentTarget === event.target) {\n      this.setState({ isModal: false });\n    }\n  };\n\n  render() {\n    const {\n      pictures,\n      error,\n      status,\n      isModal,\n      name,\n      src,\n      totalHits,\n      spinner,\n    } = this.state;\n\n    if (status === \"idle\") {\n      return <></>;\n    }\n\n    if (status === \"pending\") {\n      return (\n        <Loader\n          className={styles.loader}\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n        />\n      );\n    }\n\n    if (status === \"resolve\") {\n      return (\n        <>\n          {spinner && (\n            <Loader\n              className={styles.loader}\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={50}\n              width={50}\n            />\n          )}\n          <ImageGallery pictures={pictures} onClick={this.handleOnClick}>\n            {isModal && (\n              <Modal\n                handleOnClickModal={this.handleOnClickModal}\n                src={src}\n                name={name}\n              />\n            )}\n            {pictures.length >= PER_PAGE && pictures.length < totalHits ? (\n              <ButtonLoad onClick={this.handleLoadMore} name=\"load more\" />\n            ) : (\n              \"\"\n            )}\n          </ImageGallery>\n        </>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <h1>{error.message}</h1>;\n    }\n  }\n}\n\nexport default ImageGalleryRender;\n","import React, { Component } from \"react\";\nimport Container from \"./Container/Container\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport ImageGallery from \"./ImageGalleryRender/ImageGalleryRender\";\n\nclass App extends Component {\n  state = {\n    pictureName: \"\",\n  };\n\n  handleOnSubmit = (pictureName) => {\n    this.setState({ pictureName });\n  };\n\n  render() {\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleOnSubmit} />\n        <ImageGallery pictureName={this.state.pictureName} />\n        <ToastContainer />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"index.css\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchBar_searchbar__3sSwQ\",\"searchForm\":\"searchBar_searchForm__2iqKN\",\"searchFormButton\":\"searchBar_searchFormButton__2QRQQ\",\"searchFormButtonLabel\":\"searchBar_searchFormButtonLabel__1Scou\",\"input\":\"searchBar_input__1rTt9\"};"],"sourceRoot":""}