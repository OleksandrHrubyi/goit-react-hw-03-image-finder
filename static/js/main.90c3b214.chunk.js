(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"modal_overlay__3GoLB",modal:"modal_modal__3OAHy",img:"modal_img__i7Vb5"}},12:function(e,t,a){e.exports={loader:"ImageGaleryRender_loader__3j1n4"}},14:function(e,t,a){e.exports={imageGalleryItem:"imageGalleryItem_imageGalleryItem__2at7i",imageGalleryItemImage:"imageGalleryItem_imageGalleryItemImage__1WH3l"}},16:function(e,t,a){e.exports={container:"container_container__3TiUU"}},17:function(e,t,a){e.exports={imageGallery:"imageGallery_imageGallery__Qono_"}},18:function(e,t,a){e.exports={button:"button_button__2pFT2"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(3),c=a.n(r),o=a(4),i=a(5),s=a(8),l=a(7),u=a(0),h=a(16),m=a.n(h);var d=function(e){var t=e.children;return Object(n.jsx)("div",{className:m.a.container,children:t})},p=a(6),j=(a(24),a(9)),b=a.n(j),f=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleOnChangeInput=function(t){e.setState({value:t.currentTarget.value})},e.handleOnSubmit=function(t){if(t.preventDefault(),""===e.state.value.trim())return p.b.info("Enter what you want to find");e.props.onSubmit(e.state.value)},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:b.a.searchbar,children:Object(n.jsxs)("form",{className:b.a.searchForm,onSubmit:this.handleOnSubmit,children:[Object(n.jsx)("button",{type:"submit",className:b.a.searchFormButton,children:Object(n.jsx)("span",{className:b.a.searchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{onChange:this.handleOnChangeInput,className:b.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.value})]})})}}]),a}(u.Component),g=a(15),O=a(12),v=a.n(O),y=(a(27),a(13)),_=a.n(y),x=a(10),k=a.n(x);var w=function(e){var t=e.src,a=e.name,r=e.handleOnClickModal;return Object(n.jsx)("div",{id:"modal-root",onClick:r,className:k.a.overlay,children:Object(n.jsx)("div",{className:k.a.modal,children:Object(n.jsx)("img",{className:k.a.img,src:t,alt:a})})})},N=a(17),S=a.n(N),C=a(14),F=a.n(C),I=a(2),B=a.n(I);function G(e){var t=e.picture,a=e.onClick;return Object(n.jsx)("li",{className:F.a.imageGalleryItem,children:Object(n.jsx)("img",{onClick:a,src:t.webformatURL,"data-large":t.largeImageURL,"data-name":t.tags,alt:t.tags,className:F.a.imageGalleryItemImage})})}G.ptopTypes={picture:B.a.object,onClick:B.a.func};var M=G;var L=function(e){var t=e.pictures,a=e.onClick,r=e.children;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("ul",{className:S.a.imageGallery,children:[" ",t.map((function(e){return Object(n.jsx)(M,{onClick:a,picture:e},e.webformatURL)}))]}),r]})},T=a(18),D=a.n(T);var A=function(e){var t=e.name,a=e.onClick;return Object(n.jsx)("button",{onClick:a,className:D.a.button,type:"button",children:t})};var H={fetchPicturesApi:function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("19172745-dc53377293ec5b56fbdc242bd","&image_type=photo&orientation=horizontal&per_page=").concat(12)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something go wrong, try again"))}))}},U=1,E=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictures:[],error:null,status:"idle",isModal:!1,name:"",src:"",totalHits:null,spinner:!1},e.handleLoadMore=function(t){e.setState({spinner:!0}),H.fetchPicturesApi(e.props.pictureName,U+=1).then((function(t){return e.setState((function(e){return{pictures:[].concat(Object(g.a)(e.pictures),Object(g.a)(t.hits)),spinner:!1}}))})).catch((function(t){return e.setState({error:t,status:"rejected"})})).finally((function(){e.scroll()}))},e.scroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.handleKeyDown=function(t){"Escape"===t.code&&e.setState({isModal:!1})},e.handleOnClick=function(t){e.setState({isModal:!0,src:t.currentTarget.dataset.large,name:t.currentTarget.dataset.name})},e.handleOnClickModal=function(t){t.currentTarget===t.target&&e.setState({isModal:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e,t){var a=this;e.pictureName!==this.props.pictureName&&(this.setState({status:"pending"}),H.fetchPicturesApi(this.props.pictureName,U=1).then((function(e){return 0===e.hits.length&&p.b.info("We did not find any pictures"),a.setState({pictures:e.hits,status:"resolve",totalHits:e.totalHits})})).catch((function(e){return a.setState({error:e,status:"rejected"})})))}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.error,r=e.status,c=e.isModal,o=e.name,i=e.src,s=e.totalHits,l=e.spinner;return"idle"===r?Object(n.jsx)(n.Fragment,{}):"pending"===r?Object(n.jsx)(_.a,{className:v.a.loader,type:"ThreeDots",color:"#00BFFF",height:50,width:50}):"resolve"===r?Object(n.jsxs)(n.Fragment,{children:[l&&Object(n.jsx)(_.a,{className:v.a.loader,type:"ThreeDots",color:"#00BFFF",height:50,width:50}),Object(n.jsxs)(L,{pictures:t,onClick:this.handleOnClick,children:[c&&Object(n.jsx)(w,{handleOnClickModal:this.handleOnClickModal,src:i,name:o}),t.length>=12&&t.length<s?Object(n.jsx)(A,{onClick:this.handleLoadMore,name:"load more"}):""]})]}):"rejected"===r?Object(n.jsx)("h1",{children:a.message}):void 0}}]),a}(u.Component),Q=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictureName:""},e.handleOnSubmit=function(t){e.setState({pictureName:t})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(d,{children:[Object(n.jsx)(f,{onSubmit:this.handleOnSubmit}),Object(n.jsx)(E,{pictureName:this.state.pictureName}),Object(n.jsx)(p.a,{})]})}}]),a}(u.Component);a(47);c.a.render(Object(n.jsx)(Q,{}),document.querySelector("#root"))},9:function(e,t,a){e.exports={searchbar:"searchBar_searchbar__3sSwQ",searchForm:"searchBar_searchForm__2iqKN",searchFormButton:"searchBar_searchFormButton__2QRQQ",searchFormButtonLabel:"searchBar_searchFormButtonLabel__1Scou",input:"searchBar_input__1rTt9"}}},[[48,1,2]]]);
//# sourceMappingURL=main.90c3b214.chunk.js.map